# CSS3 变换和过渡

## 盒子模型进阶

### 最大宽度和最小宽度

最大宽度和最小宽度属性允许您限制一个元素的最大和最小宽度。
- `max-width`: 设置元素的最大宽度。
- `min-width`: 设置元素最小宽度。


### 盒子轮廓

轮廓是画在边框之外的一条线，与边框有些许区别：
1. 不占据空间：轮廓不会改变元素的大小。
2. 在边框外进行绘制：不会占用盒子内部区域
3. `outline: 1px solid red;`

### 盒子阴影
- `box-shadow: offset-x 1offset-y spread-radius color;`
- `offset-x`: 阴影的水平向偏移量。
- `offset-y`: 阴影的纵向偏移量。
- `spread-radius`: 阴影的模糊半径。
- `color`: 阴影的颜色。
- `box-shadow: 5px 5px 5px red;`
- `box-shadow: 5px 5px 5px red, 10px 10px 10px blue;`
- `box-shadow: 5px 5px 5px red inset ;` 内阴影
- 部分组件库将阴影当做边框使用，避免边框宽度被系统缩放影响
- `text-shadow: 1px 1px 1px red;` 文本阴影

### 行内纵向对齐

![对齐方式](../../assert/对齐方式.png)

- 顶线：行高顶部（不是文字顶部）
- 中线：文字中点
- 底线：行高底部（不是文字底部）
- 基线：英文小写字母 x 的下边缘

- `vertical-align: top;` 顶对齐
- `vertical-align: middle;` 中对齐


### 精灵图

**优点**：通过将多个图片合并成一张，减少了HTTP请求的数量，从而加快了页面加载速度。

```css
.vip-icon {
  display: inline-block;
  width: 40px;
  height: 40px;
  background-position: -57px 0;
  background-image: url("/img/sprites.png");
}
```

### 颜色渐变

直接看例子：
```css
.container {
  width: 300px;
  height: 50px;
  background-image: linear-gradient(to right, red, yellow);
}
```

渐变边框：
```css
.container {
  width: 300px;
  height: 50px;
  border-radius: 10px;
  background:
      linear-gradient(to right, white, white) padding-box,  /* pading+内容区域采用白色 */
      linear-gradient(to right, red, blue) border-box;  /* border+pading+内容区域采用渐变 */
  border: 2px solid transparent;  /* 注意边框的颜色会覆盖背景，这里弄个透明的 */
}
```

### 滤镜效果

- `filter: blur(5px);`: Guass模糊
- `filter: brightness(0.5);`: 亮度
- `filter: contrast(0.5);`: 对比度
- `filter: grayscale(100%);`: 灰度
- `filter: hue-rotate(90deg);`: 色调  <!-- 实现多种主题切换 -->
- `filter: invert(100%);`: 反色
- `filter: drop-shadow(5px 5px 5px red);`: 投影(文字 边框内外都有阴影)

### 背景过滤器

- `backdrop-filter: blur(5px);`: 背景模糊


## 二维变换和三维变换

### 二维变换

- `transform: translate(x, y);`: 平移
- `transform: scale(x, y);`: 缩放(横纵缩放比例)
- `transform: rotate(angle);`: 旋转
- `transform: skew(x, y);`: 倾斜

盒子原本所占据的空间并没有发生改变，这与我们前面提到的`relative`定位布局类似，它们都能实现偏移又不脱离文档流效果。但是，`translate`的不同之处在于，它仅仅是视觉上的偏移，并非盒子本体的移动。两种情况下，使用JavaScript获取其位置时，会出现差异

### 原点变换

- `transform-origin: x y;`: 设置变换的原点
- `transform-origin: left top;`: 左上角

### 组合变换

如果我们需要同时对元素进行平移、旋转和缩放，可以将这些函数写在同一个 `transform` 属性中，用空格隔开。

```css
.box {
  /* 先移动，再旋转，最后缩放 */
  transform: translate(100px) rotate(45deg) scale(1.2);
}
```

`注意`：变换的顺序很重要！先旋转再平移，和先平移再旋转，最终的位置可能完全不同，因为旋转会改变坐标轴的方向。

### 三维变换

在二维的基础上引入**Z轴**，实现物体**近大远小**的效果。在父盒子创建景深效果`perspective: 500px`，即可体现。

### 透明效果

- `opacity: 0.5;`: 透明度（半透明）

### 过渡效果

- `transition-property: property;`: 设置过渡的属性
- `transition-duration: duration;`: 设置过渡的持续时间
- `transition-timing-function: ease;`: 设置过渡的缓动函数（有很多种） 
- `transition: property duration timing-function delay;`: 过渡效果